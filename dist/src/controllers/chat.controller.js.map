{"version":3,"sources":["src/controllers/chat.controller.js"],"names":["chatkit","Chatkit","instanceLocator","key","getName","id","role","Promise","resolve","reject","roles","customer","Customer","get","then","first_name","last_name","partner","Partner","Admin","admin","name","addChatUser","req","res","userId","body","authUser","console","log","createUser","status","json","message","catch","err","error","authenticateUser","authData","authenticate","query","user_id","access_token","expires_in"],"mappings":"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","file":"chat.controller.js","sourceRoot":"../../../../.."}